<!DOCTYPE html>
<html>
<head>
    <title>Test</title>
    <script src="core/jq/jquery-1.10.2.min.js"></script>
    <script src="core/js/core.options.js"></script>
    <script src="core/js/core.debug.js"></script>
    <script>
        $(document).ready(function(){
            $.ajaxSetup({cache: false});
            var rooms_selector = preloadOptionsList('core/ref.rooms.getoptionslist.php');

            // console.log(rooms_selector);
            $(".debug").html( var_dump(rooms_selector) );

            BuildSelectorExtended('all_rooms', rooms_selector);

            $('select').on('change', '', function(){
                $selected_option = $('select[name="all_rooms"] option:selected');
                message = $selected_option.data('group') + ' / ' + $selected_option.text();
                alert ('[' + message + ']' );
            })
        });


    </script>
    <style>
        .debug{
            width: 800px;
            overflow-y: scroll;
            border: 1px solid red;
        }
        optgroup {
            font-weight: normal;
            color: red;
        }
    </style>
</head>
<body>
<form>
    <select name="all_rooms" id="rooms">
        <option value="0" data-group="*">*</option>
    </select>
</form>
<button class="actor-test">Test !</button>
<hr>
<fieldset class="debug">
    <legend>Debug</legend>

</fieldset>
<small>
[ Â© KarelWintersky ]
[ <a href="/core/">Control panel</a> ]
</small>
</body>
</html>